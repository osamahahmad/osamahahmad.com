<html>

<head>
    <title>Memorise</title>

    <style>
        * {
            margin: 0;
            padding: 0;
        }

        html {
            font-family: Arial, Helvetica, sans-serif;
        }

        body {
            display: flex;
            flex-direction: column;
        }

        body>div {
            padding: 2rem;
        }

        body>div:first-of-type {
            background-color: aqua;
            color: #00000011;
            min-height: min-content;
            max-height: 10svh;
            overflow: auto;
        }

        body>div:last-of-type {
            flex: 1;
        }
    </style>
</head>

<body>
    <div contenteditable="true" oninput="updateSecondDiv(this);"></div>
    <div id="outputDiv"></div>

    <script>
        function updateSecondDiv(div) {
            const inputText = div.innerHTML.trim();
            console.log(inputText);

            const outputText = getOutputText(inputText);

            document.getElementById('outputDiv').innerHTML = outputText;
        }

        function getOutputText(inputText) {
            // Create a temporary element to parse the HTML
            const tempElement = document.createElement('div');
            tempElement.innerHTML = inputText;

            // Traverse through all text nodes and modify the content to retain only the first letter of each word
            traverse(tempElement);

            // Return the modified HTML content
            return tempElement.innerHTML;
        }

        function traverse(node) {
            // If it's a text node, modify the content to retain only the first letter of each word
            if (node.nodeType === Node.TEXT_NODE) {
                node.textContent = node.textContent.replace(/\b(\w)\w*/g, function (match, p1) {
                    return p1;
                });
            }
            // If it's an element node, traverse its child nodes
            else if (node.nodeType === Node.ELEMENT_NODE) {
                for (const childNode of node.childNodes) {
                    traverse(childNode);
                }
            }
        }
    </script>
</body>

</html>